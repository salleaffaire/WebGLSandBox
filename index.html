<!doctype html>
<html>
   <head>
      <title>Luc's WebGL Tests</title>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

      <!--link rel="stylesheet" href="webgl.css" type="text/css"-->
      <script src="webgl-utils.js" type="text/javascript"></script>
      <script src="webgl-test.js" type="text/javascript"></script>

      <script id="2d-vertex-shader" type="x-shader/x-vertex">
         // Shader now accepts pixels and convert to clipspace coordinates
         attribute vec2 a_position;

         uniform vec2 u_resolution_vs;

         varying vec2 v_texCoord;

         void main() {
            // convert the rectangle from pixels to 0 to 1
            vec2 zeroToOne = a_position / u_resolution_vs;

            // double its resolution 
            vec2 zeroToTwo = zeroToOne * 2.0;

            // shoft it from -1 to 1
            vec2 clipSpace = zeroToTwo - 1.0;

            // [x, y x, alpha]
            gl_Position = vec4(clipSpace * vec2(1, -1), 0, 1);

            // Texture coordinate go from 0 to 1 no matter the size of the texture
            v_texCoord = zeroToOne;
         }
      </script>

      <script id="2d-fragment-shader" type="x-shader/x-fragment">
         precision mediump float;

         // The texture
         uniform sampler2D u_image;
         uniform vec2 u_resolution_fs;

         // the textCoors passed in from the vertex shader
         varying vec2 v_texCoord;

         void main() {
            // compute 1 pixel in texture coordinates.
            vec2 onePixel = vec2(1.0, 1.0) / u_resolution_fs;

            gl_FragColor = texture2D(u_image, v_texCoord);
         }
      </script>

   <body>

      <video id="video-input" onplay="webGLStart();" src="Gravity - 2K Trailer.mp4" muted loop controls></video>

      <!--canvas id="canvas" style="border: none;" width="640" height="480"/-->

   </body>  

</html>
